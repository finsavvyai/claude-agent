# Qdrant Vector Database Configuration for Claude Agent Platform
# Development environment settings

storage:
  # Path to storage directory
  storage_path: /qdrant/storage

  # Performance tuning
  performance:
    # Maximum search speed
    search_rate_limit: 1000
    # Maximum number of parallel updates
    update_rate_limit: 1000

# Service configuration
service:
  # HTTP API configuration
  http:
    # HTTP server bind address
    host: "0.0.0.0"
    # HTTP server port
    port: 6333
    # Enable CORS
    cors:
      allow_origins:
        - "*"
      allow_methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      allow_headers:
        - "*"
      expose_headers:
        - "*"
      max_age: 3600
      allow_credentials: true

  # gRPC API configuration
  grpc:
    # gRPC server bind address
    host: "0.0.0.0"
    # gRPC server port
    port: 6334

# Telemetry configuration
telemetry:
  # Disable telemetry in development
  disabled: true

# Logging configuration
log_level: INFO

# Cluster configuration (disabled for single node)
cluster:
  # Enable cluster mode
  enabled: false

# Advanced configuration
optimizers:
  # Default optimizer configuration
  default:
    # Number of threads for optimization
    max_segment_size: 200000
    # Optimization threshold
    memmap_threshold: 50000
    # Maximum number of segments
    max_optimization_threads: 1

# HNSW index parameters
hnsw_index:
  # Number of connections for each vertex
  m: 16
  # Number of candidates for construction
  ef_construct: 200
  # Number of candidates for search
  ef_search: 64
  # Number of threads for indexing
  num_threads: 4

# WAL (Write-Ahead Log) configuration
wal:
  # WAL capacity
  wal_capacity_mb: 32
  # Number of threads for WAL operations
  wal_threads: 1

# Queue configuration
queue:
  # Number of threads for queue operations
  threads: 1

# Service limits
service:
  max_request_size_mb: 32
  max_batch_size: 100

# Performance tuning
performance:
  # Search settings
  search:
    # Default exact search threshold
    exact_search_threshold: 1000
    # HNSW search settings
    hnsw:
      # ef parameter for search
      ef: 64
      # Number of candidates for search
      search_k: 10

# Collection settings
collections:
  # Default collection settings
  default:
    # Vector configuration
    vectors:
      # Vector size (will be overridden by collection creation)
      size: 1536
      # Distance metric
      distance: Cosine
      # HNSW index configuration
      hnsw_config:
        m: 16
        ef_construct: 200
        ef_search: 64
        full_scan_threshold: 20000
        max_indexing_threads: 4
        on_disk: false

# Snapshot configuration
snapshots:
  # Path to snapshots directory
  snapshots_path: /qdrant/snapshots
  # Create snapshots automatically
  auto_snapshot_interval_sec: 0

# Access control (disabled for development)
service:
  api_key: ""
